{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Poetry Git Branch Plugin","text":"CI/CD Package <p> A Poetry plugin that sets an environment variable with the current Git branch name. </p> <p>Documentation: https://dribia.github.io/poetry-git-branch-plugin</p> <p>Source Code: https://github.com/dribia/poetry-git-branch-plugin</p>"},{"location":"#key-features","title":"Key features","text":"<ul> <li>Sets an environment variable with the current Git branch name.</li> <li>Allows to use the current Git branch name in any command executed by Poetry.</li> </ul>"},{"location":"#installation","title":"Installation","text":"<p>Depending on how you installed poetry, there are different ways to install this plugin.</p> <p>The easiest way to install this plugin is to use the <code>poetry self add</code> command: <pre><code>poetry self add poetry-git-branch-plugin\n</code></pre></p> <p>If you installed poetry using <code>pip</code>: <pre><code>pip install poetry-git-branch-plugin\n</code></pre></p> <p>If you installed poetry using <code>pipx</code>: <pre><code>pipx inject poetry poetry-git-branch-plugin\n</code></pre></p> <p>You can also specify that a plugin is required for your project in the <code>tool.poetry.requires-plugins</code> section of the <code>pyproject.toml</code> file: <pre><code>[tool.poetry.requires-plugins]\npoetry-git-branch-plugin = \"&gt;=0.0.1\"\n</code></pre></p>"},{"location":"contribute/","title":"Contribute","text":"<p> Contributions to Dribia libraries are always welcome! </p>"},{"location":"contribute/#mantainers","title":"Mantainers","text":"<p>poetry-git-branch-plugin is officially maintained by Dribia Code - code@dribia.com.</p>"},{"location":"contribute/#issues","title":"Issues","text":"<p>Questions, feature requests and bug reports are all welcome as discussions or issues.</p> <p>Please note which version of the library are you using whenever reporting a bug. <pre><code>python -c \"import poetry-git-branch-plugin; print(poetry-git-branch-plugin.__version__)\"\n</code></pre></p> <p>It would be very useful too to know which OS and Python version are your running poetry-git-branch-plugin from.</p>"},{"location":"contribute/#contribute_1","title":"Contribute","text":"<p>In order to contribute, the first step is to clone yourself the code: repository: <pre><code>git clone https://github.com/dribia/poetry-git-branch-plugin.git\n</code></pre></p> <p>Poetry is the best way to interact with this project, to install it, follow the official Poetry installation guide. With poetry installed, one can install the project dependencies with: <pre><code>poetry install\n</code></pre></p> <p>Now you should be ready to start coding and prepare your pull request.</p> <p>Warning</p> <p>Please, make sure to run:</p> <ol> <li>The project unit tests <pre><code>make test-unit\n</code></pre></li> <li>The linters (<code>ruff</code> and <code>mypy</code>): <pre><code>make lint\n</code></pre></li> <li>Apply all code formatting: <pre><code>make format\n</code></pre></li> </ol> <p>before submitting your pull request.</p> <p>Happy coding! \ud83c\udf89</p>"},{"location":"usage/","title":"Example of usage","text":"<p>In DBT projects it can be the case that we want to set the target schema name based on the current Git branch. In the <code>profiles.yml</code> file we can set a project variable such that</p> <pre><code>example_dbt:\n  target: dev\n  outputs:\n    dev:\n      type: bigquery\n      method: oauth\n      project: GCLOUD_PROJECT\n      dataset: \"{{ env_var('POETRY_GIT_BRANCH') }}\"\n      location: GCLOUD_LOCATION\n</code></pre>"}]}